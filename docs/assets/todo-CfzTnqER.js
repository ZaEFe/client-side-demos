import"./useBootstrap-B5thChz7.js";import{j as n,c as R,r as f}from"./index-ByYvoH3u.js";const V=()=>n.jsx("nav",{className:"navbar navbar-expand-lg bg-light",children:n.jsxs("div",{className:"container-fluid d-flex justify-content-between",children:[n.jsxs("div",{className:"d-flex align-items-center",children:[n.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:n.jsx("span",{className:"navbar-toggler-icon"})}),n.jsx("a",{className:"navbar-brand d-lg-none ms-2",href:"../../",children:"Home Page"})]}),n.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:n.jsxs("ul",{className:"navbar-nav",children:[n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link active","aria-current":"page",href:"../../",children:"Home"})}),n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link",href:"../about/",children:"About"})}),n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link",href:"../clock/",children:"Clock"})}),n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link",href:"../project-2/",children:"Date Button"})}),n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link",href:"../react/",children:"React: Animal List"})}),n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link",href:"../todo/",children:"To Do List"})}),n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link",href:"../simple_fetch/",children:"Simple Fetch API"})}),n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link",href:"../local_fetch/",children:"Local Fetch API"})}),n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link",href:"../jeopardy_app/",children:"Jeopardy App"})}),n.jsx("li",{className:"nav-item",children:n.jsx("a",{className:"nav-link",href:"../resume/",children:"Resume"})})]})}),n.jsx("a",{className:"navbar-brand ms-auto",href:"./",children:n.jsx("img",{src:"/client-side-demos/logo.svg",alt:"Logo",width:"30",height:"24"})})]})}),D=(e,t)=>t.some(s=>e instanceof s);let S,C;function O(){return S||(S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W(){return C||(C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I=new WeakMap,y=new WeakMap,v=new WeakMap;function K(e){const t=new Promise((s,r)=>{const c=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{s(x(e.result)),c()},a=()=>{r(e.error),c()};e.addEventListener("success",i),e.addEventListener("error",a)});return v.set(t,e),t}function _(e){if(I.has(e))return;const t=new Promise((s,r)=>{const c=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{s(),c()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),c()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});I.set(e,t)}let N={get(e,t,s){if(e instanceof IDBTransaction){if(t==="done")return I.get(e);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return x(e[t])},set(e,t,s){return e[t]=s,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function T(e){N=e(N)}function H(e){return W().includes(e)?function(...t){return e.apply(E(this),t),x(this.request)}:function(...t){return x(e.apply(E(this),t))}}function U(e){return typeof e=="function"?H(e):(e instanceof IDBTransaction&&_(e),D(e,O())?new Proxy(e,N):e)}function x(e){if(e instanceof IDBRequest)return K(e);if(y.has(e))return y.get(e);const t=U(e);return t!==e&&(y.set(e,t),v.set(t,e)),t}const E=e=>v.get(e);function Z(e,t,{blocked:s,upgrade:r,blocking:c,terminated:i}={}){const a=indexedDB.open(e,t),u=x(a);return r&&a.addEventListener("upgradeneeded",o=>{r(x(a.result),o.oldVersion,o.newVersion,x(a.transaction),o)}),s&&a.addEventListener("blocked",o=>s(o.oldVersion,o.newVersion,o)),u.then(o=>{i&&o.addEventListener("close",()=>i()),c&&o.addEventListener("versionchange",l=>c(l.oldVersion,l.newVersion,l))}).catch(()=>{}),u}const $=["get","getKey","getAll","getAllKeys","count"],G=["put","add","delete","clear"],w=new Map;function k(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(w.get(t))return w.get(t);const s=t.replace(/FromIndex$/,""),r=t!==s,c=G.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(c||$.includes(s)))return;const i=async function(a,...u){const o=this.transaction(a,c?"readwrite":"readonly");let l=o.store;return r&&(l=l.index(u.shift())),(await Promise.all([l[s](...u),c&&o.done]))[0]};return w.set(t,i),i}T(e=>({...e,get:(t,s,r)=>k(t,s)||e.get(t,s,r),has:(t,s)=>!!k(t,s)||e.has(t,s)}));const J=["continue","continuePrimaryKey","advance"],A={},B=new WeakMap,L=new WeakMap,z={get(e,t){if(!J.includes(t))return e[t];let s=A[t];return s||(s=A[t]=function(...r){B.set(this,L.get(this)[t](...r))}),s}};async function*Q(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const s=new Proxy(t,z);for(L.set(s,t),v.set(s,E(t));t;)yield s,t=await(B.get(s)||t.continue()),B.delete(s)}function P(e,t){return t===Symbol.asyncIterator&&D(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&D(e,[IDBIndex,IDBObjectStore])}T(e=>({...e,get(t,s,r){return P(t,s)?Q:e.get(t,s,r)},has(t,s){return P(t,s)||e.has(t,s)}}));async function X(e){await e.createObjectStore("todos",{keyPath:"id",autoIncrement:!0})}async function Y(){return await Z("to-do-app-db",1,{upgrade:X})}const p=Y(),m={async add(e){const s=(await p).transaction("todos","readwrite");await s.objectStore("todos").add(e),await s.done},async getAll(){return(await p).transaction("todos","readonly").objectStore("todos").getAll()},async remove(e){const s=(await p).transaction("todos","readwrite");await s.objectStore("todos").delete(e),await s.done},async update(e){const s=(await p).transaction("todos","readwrite");await s.objectStore("todos").put(e),await s.done},async clear(){const t=(await p).transaction("todos","readwrite");t.objectStore("todos").clear(),await t.done}};function q(){const[e,t]=f.useState([]),s=f.useRef(null),[r,c]=f.useState("No record updates");f.useEffect(()=>{m.getAll().then(t)},[]);function i(d){d.preventDefault();const h={id:Date.now(),text:new FormData(d.target).get("todo-text").trim()};m.add(h).then(m.getAll).then(j=>{t(j),j.find(g=>g.id===h.id&&g.text===h.text)&&l("Added a to do item")})}const a=d=>()=>{m.remove(d.id).then(m.getAll).then(h=>{t(h),h.find(b=>b.id===d.id&&b.text===d.text)||l("Removed a to do item")})},u=d=>{m.update(d).then(m.getAll).then(t)},o=()=>m.clear().then(m.getAll).then(d=>{t(d),d.length===0&&l("Cleared all to do items")});function l(d){const h=new Date().toLocaleString();c(d+" at "+h)}return n.jsxs(n.Fragment,{children:[n.jsxs("header",{children:[n.jsxs("div",{id:"title",children:[n.jsx("h1",{class:"no-margin",children:"Frontend Portfolio"}),n.jsx("p",{class:"no-margin",children:"by Zachary F."})]}),n.jsx(V,{}),n.jsx("img",{id:"logo",src:"/client-side-demos/todo.svg",alt:"Black check mark on Cyan"}),n.jsx("h2",{children:"To Do App"})]}),n.jsxs("main",{children:[n.jsx("p",{role:"status",ref:s,tabIndex:-1,children:r}),n.jsx(M,{onSubmit:i,inputName:"todo-text",buttonText:"Add"}),n.jsx("button",{onClick:o,children:"Clear All To Do Items"}),n.jsxs("article",{children:[n.jsx("h2",{children:"To Do List"}),n.jsx("ul",{children:e.map(d=>n.jsx(ee,{todo:d,todoRemover:a,todoUpdater:u},d.id))})]})]}),n.jsx("footer",{children:"Created by Zachary F. w/ instruction from Nicholas Gardella 02/2025"})]})}function ee({todo:e,todoRemover:t,todoUpdater:s}){const r=f.useRef(null),{id:c,text:i}=e,[a,u]=f.useState(!1),o="updater-todo-text",l="Update",d=i,h=i;f.useEffect(()=>{a&&r.current&&r.current.focus()},[a]);function j(g){g.preventDefault();const F=new FormData(g.target).get(o).trim();s({id:c,text:F}),u(!1)}if(a)return n.jsx(M,{onSubmit:j,inputName:o,buttonText:l,placeholder:d,defaultValue:h,inputRef:r});function b(){u(!0)}return n.jsxs("li",{children:[n.jsx("input",{type:"checkbox"}),n.jsx("span",{children:i}),n.jsx("button",{onClick:t({id:c,text:i}),children:"Delete"}),n.jsx("button",{onClick:b,children:"Edit"})]})}function M({onSubmit:e,inputName:t,buttonText:s,placeholder:r="",defaultValue:c="",inputRef:i}){function a(u){const o=u.target;o.setCustomValidity(""),!o.validity.valid&&o.validity.patternMismatch&&o.setCustomValidity("Entry must not be all white spaces, or begin with a white space.")}return n.jsx("form",{onSubmit:e,children:n.jsxs("fieldset",{children:[n.jsx("legend",{children:"Add a to do item"}),n.jsx("label",{htmlFor:t,children:"Text Content"}),n.jsx("input",{id:t,name:t,type:"text",placeholder:r,defaultValue:c,required:!0,autoComplete:"off",pattern:"^(\\S+\\s*)+$",ref:i,onInvalid:a,onInput:a}),n.jsx("button",{type:"submit",children:s})]})})}R.createRoot(document.getElementById("root")).render(n.jsx(f.StrictMode,{children:n.jsx(q,{})}));
